[tool:pytest]
testpaths = app/tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*
addopts = 
    -v 
    --tb=long 
    --strict-markers 
    --strict-config 
    --durations=10
    --showlocals
    --capture=no
    --failed-first
    --lf-tb=short
filterwarnings =
    error
    ignore::UserWarning
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
    ignore::sqlalchemy.exc.SAWarning
markers =
    unit: Unit tests
    integration: Integration tests
    slow: Slow running tests
    background_processing: Background processing tests
    business_logic: Business logic validation tests
    security: Security-focused tests
    comprehensive: Comprehensive test coverage
    rate_limiting: Rate limiting tests
    real_validation: Tests with real validation (no bypasses)
    health_monitoring: Health monitoring tests
    api_endpoints: API endpoint tests
    # Sprint-specific markers for organization
    sprint2: Sprint 2 Universe Management Service tests
    asset_validation: Asset validation and enrichment tests
    universe_management: Universe CRUD and relationship tests
    mixed_validation_strategy: Tests for mixed validation strategy implementation
    normalized_asset_model: Tests for normalized asset domain model
    ai_friendly_apis: Tests for AI-friendly response format validation
    performance: Performance benchmarking and SLA validation tests
    sprint3: Sprint 3 Market Data & Indicators Service tests
    real_data: Tests using real market data (no mocks)